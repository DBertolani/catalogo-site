<!DOCTYPE html>
<html lang="pt-br">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>DEAB - Ofertas Incr√≠veis</title>
    <style>
        /* --- ESTILOS GERAIS --- */
        * { box-sizing: border-box; }
        body { font-family: 'Segoe UI', Roboto, Helvetica, Arial, sans-serif; margin: 0; padding: 0; color: #333; line-height: 1.6; background-color: #f8f9fa; }
        .container { max-width: 1200px; margin: 0 auto; padding: 20px 15px; }
        a { text-decoration: none; }
        
        /* --- CABE√áALHO --- */
        header { text-align: center; padding: 40px 20px; background: #fff; border-bottom: 1px solid #eee; }
        
        .logo-area h1 { margin: 0; color: #d32f2f; font-size: 2.5rem; letter-spacing: -1px; }
        .logo-area span { color: #555; font-weight: bold; font-size: 0.9rem; letter-spacing: 2px; }
        
        .hero-text { font-size: 1.1em; color: #666; max-width: 700px; margin: 20px auto; }

        /* --- MENU DE NAVEGA√á√ÉO --- */
        .main-nav { margin-top: 20px; display: flex; justify-content: center; gap: 10px; flex-wrap: wrap; }
        .nav-link { padding: 8px 16px; border: 1px solid #ddd; border-radius: 20px; color: #555; font-weight: 600; font-size: 0.9rem; transition: 0.2s; }
        .nav-link:hover, .nav-link.active { background: #333; color: white; border-color: #333; }
        .nav-link.destaque { border-color: #d32f2f; color: #d32f2f; }
        .nav-link.destaque:hover { background: #d32f2f; color: white; }

        /* --- BOT√ïES GRANDES (HERO) --- */
        .cta-buttons { margin: 30px 0; display: flex; justify-content: center; gap: 15px; flex-wrap: wrap; }
        .btn-hero { padding: 15px 30px; border-radius: 50px; font-weight: bold; color: white; font-size: 1.1rem; transition: 0.3s; display: flex; align-items: center; gap: 10px; box-shadow: 0 4px 10px rgba(0,0,0,0.1); }
        .btn-primary { background-color: #d32f2f; } 
        .btn-secondary { background-color: #007bff; }
        .btn-hero:hover { transform: translateY(-3px); box-shadow: 0 6px 15px rgba(0,0,0,0.2); filter: brightness(1.1); }

        /* --- SE√á√ÉO DE BENEF√çCIOS --- */
        .benefits-grid { display: grid; grid-template-columns: repeat(auto-fit, minmax(280px, 1fr)); gap: 20px; margin: 40px 0; }
        .benefit-card { background: #fff; padding: 25px; border-radius: 12px; border-left: 5px solid #d32f2f; box-shadow: 0 2px 10px rgba(0,0,0,0.05); }
        .benefit-card h3 { margin-top: 0; color: #d32f2f; }

        /* --- PR√âVIA DE OFERTAS (ESTILO IGUAL AO OFERTAS.HTML) --- */
        .preview-section { padding: 40px 20px; background: #f0f2f5; text-align: center; }
        .preview-grid { 
            display: grid; 
            grid-template-columns: repeat(auto-fill, minmax(260px, 1fr)); 
            gap: 20px; 
            margin-top: 30px;
            text-align: left; /* Texto dentro do card alinhado a esquerda */
        }

        /* Card Estilo Ofertas */
        .card { background: white; border-radius: 12px; overflow: hidden; box-shadow: 0 4px 10px rgba(0,0,0,0.05); display: flex; flex-direction: column; height: 100%; transition: transform 0.2s; position: relative; }
        .card:hover { transform: translateY(-5px); }
        .card-img-box { width: 100%; padding-top: 100%; position: relative; background: #fff; border-bottom: 1px solid #f0f0f0; }
        .card-img { position: absolute; top: 0; left: 0; right: 0; bottom: 0; width: auto; height: auto; max-width: 90%; max-height: 90%; margin: auto; object-fit: contain; }
        .card-body { padding: 15px; display: flex; flex-direction: column; flex-grow: 1; }
        .store-tag { font-size: 0.7rem; text-transform: uppercase; font-weight: 800; color: #6f42c1; margin-bottom: 5px; }
        h4 { font-size: 0.95rem; margin: 0 0 10px; line-height: 1.3; color: #222; display: -webkit-box; -webkit-line-clamp: 3; -webkit-box-orient: vertical; overflow: hidden; min-height: 3.9em; }
        .prices { margin-top: auto; margin-bottom: 10px; }
        .price-from { font-size: 0.8rem; color: #999; text-decoration: line-through; }
        .price-to { font-size: 1.3rem; color: #28a745; font-weight: 800; display: block; }
        .btn-small { background: #6c757d; color: white; text-align: center; padding: 8px; border-radius: 6px; font-size: 0.85rem; display: block; font-weight: 600; margin-bottom: 5px;}
        .btn-buy-small { background: #28a745; color: white; text-align: center; padding: 8px; border-radius: 6px; font-size: 0.85rem; display: block; font-weight: bold; text-transform: uppercase;}
        
        /* --- RODAP√â --- */
        footer { background: #333; color: white; text-align: center; padding: 30px 20px; margin-top: 40px; }
        .whatsapp-float { position: fixed; bottom: 20px; right: 20px; background-color: #25d366; color: white; width: 60px; height: 60px; border-radius: 50%; display: flex; align-items: center; justify-content: center; font-size: 30px; box-shadow: 2px 2px 10px rgba(0,0,0,0.3); z-index: 1000; transition: transform 0.2s;}
        .whatsapp-float:hover { transform: scale(1.1); }

        /* --- RESPONSIVIDADE --- */
        @media (max-width: 600px) {
            .cta-buttons { flex-direction: column; width: 100%; }
            .btn-hero { width: 100%; justify-content: center; }
            
            /* Grid de 2 colunas no mobile */
            .preview-grid { grid-template-columns: repeat(2, 1fr); gap: 10px; }
            .card-body { padding: 10px; }
            h4 { font-size: 0.85rem; min-height: 3.6em; }
            .price-to { font-size: 1.1rem; }
        }
    </style>
</head>
<body>

    <a href="https://wa.me/5527996962395" class="whatsapp-float" target="_blank" title="Fale Comigo">
        <img src="https://upload.wikimedia.org/wikipedia/commons/6/6b/WhatsApp.svg" width="35" height="35" alt="Zap">
    </a>

    <header>
        <div class="container">
            <div class="logo-area">
                <h1>DEAB</h1> 
                <span>OFERTAS INCR√çVEIS</span>
            </div>
            
            <div class="main-nav">
                <a href="/" class="nav-link active">In√≠cio</a>
                <a href="/catalogo" class="nav-link">üìÇ Cat√°logo Completo</a>
                <a href="/Ofertas" class="nav-link destaque">‚ö° Ofertas</a>
                <a href="/Cupons" class="nav-link destaque">üéüÔ∏è Cupons</a>
            </div>

            <p class="hero-text">
                "O meu objetivo √© buscar aquele produto que voc√™ tanto precisa, com a qualidade, melhor pre√ßo ou desconto que voc√™ merece."
            </p>

            <div class="cta-buttons">
                <a href="/Ofertas" class="btn-hero btn-primary">‚ö° Ver Ofertas Rel√¢mpago</a>
                <a href="/Cupons" class="btn-hero btn-secondary">üéüÔ∏è Pegar Cupons</a>
            </div>
        </div>
    </header>

    <div class="container">
        <div class="benefits-grid">
            <div class="benefit-card">
                <h3>üìâ Economia Real</h3>
                <p>Sabia que compras pela internet podem ser at√© 46% mais baratas? Monitoramos as melhores oportunidades.</p>
            </div>
            <div class="benefit-card">
                <h3>üõ°Ô∏è Compra Segura</h3>
                <p>Parceria oficial com Magalu, Amazon, Casas Bahia e outras gigantes. Voc√™ compra direto na loja.</p>
            </div>
            <div class="benefit-card">
                <h3>ü§ù Consultoria</h3>
                <p>N√£o achou? Eu procuro para voc√™! Entre em contato pelo WhatsApp para ajuda personalizada.</p>
            </div>
        </div>
    </div>

    <div class="preview-section">
        <div class="container">
            <h2 style="color:#d32f2f; font-size:2rem; margin-bottom:5px;">üî• Destaques de Hoje</h2>
            <p>Uma amostra do que voc√™ encontra na √°rea de Ofertas.</p>
            
            <div id="preview-grid" class="preview-grid">
                <p style="grid-column: 1/-1;">Carregando melhores ofertas...</p>
            </div>

            <div style="margin-top: 40px;">
                <a href="/Ofertas" class="btn-hero btn-primary" style="display:inline-flex; padding: 12px 25px; font-size: 1rem;">Ver Todas as Ofertas</a>
            </div>
        </div>
    </div>

    <footer>
        <p>DEAB - Ofertas Incr√≠veis &copy; 2025</p>
        <p style="font-size:0.9em; color:#aaa;">Participamos do Programa de Associados da Amazon, Magalu e Awin. Comprando pelos nossos links, voc√™ apoia nosso trabalho sem pagar nada a mais.</p>
    </footer>

    <script>
        const SCRIPT_URL = "https://script.google.com/macros/s/AKfycbxfjjVm4HkUnQfUXv8U6iZx1lcJbkxwyVkLyYRjhHpap8_MunaY7goBE_Fwc-_UeNTi8w/exec";

        async function loadPreview() {
            try {
                const req = await fetch(`${SCRIPT_URL}?type=ofertas`);
                const data = await req.json();
                const grid = document.getElementById('preview-grid');
                
                if(!data.length) { grid.innerHTML = ''; return; }

                // Pega 4 ofertas ativas
                const activeOffers = data.filter(i => !i.expirado).slice(0, 4);
                
                grid.innerHTML = ''; 

                activeOffers.forEach(item => {
                    const imgUrl = item.imagem || "https://via.placeholder.com/300?text=Oferta";
                    let htmlPreco = '';
                    if(item.por) {
                        htmlPreco = `<div class="prices"><span class="price-from">${item.de ? 'De ' + item.de : ''}</span><span class="price-to">Por ${item.por}</span></div>`;
                    }

                    // Link para p√°gina de detalhes
                    const detailLink = `/p/${item.id}`;

                    grid.innerHTML += `
                        <div class="card">
                            <div class="card-img-box"><img src="${imgUrl}" class="card-img" loading="lazy"></div>
                            <div class="card-body">
                                <div class="store-tag">${item.loja}</div>
                                <h4>${item.titulo}</h4>
                                ${htmlPreco}
                                <a href="${detailLink}" class="btn-details">Mais Detalhes</a>
                                <a href="${item.link}" target="_blank" class="btn-buy-small">PEGAR PROMO√á√ÉO</a>
                            </div>
                        </div>
                    `;
                });

            } catch(e) { console.log("Erro preview:", e); }
        }
        loadPreview();
    </script>

</body>
</html>
