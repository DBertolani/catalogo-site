<!DOCTYPE html>
<html lang="pt-br">
<head>
    <!-- Google tag (gtag.js) -->
<script async src="https://www.googletagmanager.com/gtag/js?id=G-BFZP55CRFY"></script>
<script>
  window.dataLayer = window.dataLayer || [];
  function gtag(){dataLayer.push(arguments);}
  gtag('js', new Date());

  gtag('config', 'G-BFZP55CRFY');
</script>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    
    <meta property="og:title" content="‚ö° DEAB - Ofertas Rel√¢mpago">
    <meta property="og:description" content="As melhores promo√ß√µes do dia com pre√ßos incr√≠veis. Corra antes que acabe!">
    <meta property="og:image" content="https://drive.google.com/uc?export=view&id=1errZurMAuCW6priW-HcdwkXqUWOUmiNI">
    <meta property="og:type" content="website">
    <title>Ofertas Rel√¢mpago</title>
    <link href="https://fonts.googleapis.com/css2?family=Montserrat:wght@700;900&family=Segoe+UI&display=swap" rel="stylesheet">
    
    <style>
        /* --- ESTILOS PADRONIZADOS --- */
        * { box-sizing: border-box; }
        body { font-family: 'Open Sans', sans-serif; margin: 0; padding: 0; padding-top: 70px; background-color: #f0f2f5; color: #333; }
        
        /* NAVBAR (IGUAL AO INDEX) */
        .navbar { position: fixed; top: 0; left: 0; width: 100%; background: white; box-shadow: 0 2px 10px rgba(0,0,0,0.1); z-index: 1000; padding: 10px 20px; }
        .nav-container { max-width: 1200px; margin: 0 auto; display: flex; justify-content: space-between; align-items: center; }
        .logo { font-family: 'Montserrat', sans-serif; font-weight: 900; font-size: 1.4rem; text-decoration: none; background: linear-gradient(45deg, #d32f2f, #ff5252); -webkit-background-clip: text; -webkit-text-fill-color: transparent; line-height: 1;}
        .logo span { font-size: 0.7rem; color: #555; -webkit-text-fill-color: #555; display: block; letter-spacing: 1px; font-weight: 400;}
        .nav-links { display: flex; gap: 20px; align-items: center; }
        .nav-item { text-decoration: none; color: #555; font-weight: 600; font-size: 0.9rem; padding: 8px 12px; border-radius: 6px; transition: 0.2s; }
        .nav-item:hover, .nav-item.active { background-color: #f0f0f0; color: #d32f2f; }
        .hamburger { display: none; cursor: pointer; background: none; border: none; font-size: 24px; color: #333; }

        /* LAYOUT DA P√ÅGINA */
        .container { max-width: 1100px; margin: 0 auto; padding: 20px 15px; }
        header { text-align: center; margin-bottom: 30px; }
        header h1 { color: #d32f2f; margin: 0; font-size: 2rem; font-family: 'Montserrat', sans-serif; }
        
        /* WHATSAPP */
        .whatsapp-float { position: fixed; bottom: 20px; right: 20px; background-color: #25d366; color: white; width: 60px; height: 60px; border-radius: 50%; display: flex; align-items: center; justify-content: center; font-size: 30px; box-shadow: 2px 2px 10px rgba(0,0,0,0.3); z-index: 2000; transition: transform 0.2s;}
        .whatsapp-float:hover { transform: scale(1.1); }

        /* FILTRO */
        .filter-bar { margin: 20px 0; display: flex; justify-content: flex-end; }
        #storeFilter { padding: 8px; border-radius: 6px; border: 1px solid #ccc; font-size: 0.9rem; min-width: 200px; }

            /* Bot√£o de Chamada para o Cat√°logo */
            .btn-catalogo-cta {
                display: inline-block;
                padding: 12px 30px;
                background-color: #2c3e50; /* Azul escuro profissional */
                color: white;
                text-decoration: none;
                border-radius: 50px;
                font-weight: bold;
                font-size: 1rem;
                box-shadow: 0 4px 6px rgba(0,0,0,0.1);
                transition: transform 0.2s, background-color 0.2s;
                margin: 10px 0;
            }
            .btn-catalogo-cta:hover {
                background-color: #1a252f;
                transform: translateY(-2px);
            }

        /* GRID DE PRODUTOS */
        .grid { display: grid; grid-template-columns: repeat(auto-fill, minmax(260px, 1fr)); gap: 20px; }

        /* CARD */
        .card { background: white; border-radius: 12px; overflow: hidden; box-shadow: 0 4px 10px rgba(0,0,0,0.05); display: flex; flex-direction: column; transition: transform 0.2s; position: relative; height: 100%; border: 1px solid #eee;}
        .card:hover { transform: translateY(-3px); box-shadow: 0 8px 20px rgba(0,0,0,0.1); }
        .card.expired { opacity: 0.6; filter: grayscale(1); pointer-events: none; }
        
        .card-img-box { width: 100%; padding-top: 100%; position: relative; background: #fff; border-bottom: 1px solid #f0f0f0; }
        .card-img { position: absolute; top: 0; left: 0; right: 0; bottom: 0; width: auto; height: auto; max-width: 90%; max-height: 90%; margin: auto; object-fit: contain; }
        
        .card-body { padding: 15px; display: flex; flex-direction: column; flex-grow: 1; }
        .store-tag { font-size: 0.75rem; text-transform: uppercase; font-weight: 800; color: #6f42c1; margin-bottom: 8px; }
        h2 { font-size: 1rem; margin: 0 0 10px; line-height: 1.3; color: #222; display: -webkit-box; -webkit-line-clamp: 3; -webkit-box-orient: vertical; overflow: hidden; min-height: 3.9em; }
        
        .prices { margin-top: auto; margin-bottom: 10px; }
        .price-from { font-size: 0.8rem; color: #999; text-decoration: line-through; }
        .price-to { font-size: 1.4rem; color: #28a745; font-weight: 800; display: block; }
        
        .mini-coupon { background: #fff3e0; color: #e65100; padding: 5px; border: 1px dashed #ffb74d; border-radius: 4px; font-size: 0.85rem; text-align: center; margin-bottom: 10px; cursor: pointer; font-weight: bold; }
        .validity-info { font-size: 0.75rem; color: #777; margin-bottom: 15px; }
        
        .card-actions { display: flex; flex-direction: column; gap: 8px; margin-top: auto; }
        .btn-details { background: #6c757d; color: white; text-align: center; padding: 8px; border-radius: 6px; text-decoration: none; font-weight: 600; font-size: 0.9rem; cursor: pointer; border: none; width: 100%; }
        .btn-buy { background: #28a745; color: white; text-align: center; padding: 10px; border-radius: 6px; text-decoration: none; font-weight: bold; display: block; font-size: 0.9rem; }

        /* RESPONSIVIDADE */
        @media (max-width: 768px) {
            .nav-links { display: none; flex-direction: column; width: 100%; position: absolute; top: 60px; left: 0; background: white; border-top: 1px solid #eee; padding: 10px 0; box-shadow: 0 5px 10px rgba(0,0,0,0.1); }
            .nav-links.active { display: flex; }
            .hamburger { display: block; }
            
            .grid { grid-template-columns: repeat(2, 1fr); gap: 10px; }
            .card-body { padding: 10px; }
            h2 { font-size: 0.9rem; min-height: 3.6em; }
            .price-to { font-size: 1.2rem; }
            .btn-buy, .btn-details { padding: 8px; font-size: 0.8rem; }
            
            /* Modal Mobile */
            .modal-content { flex-direction: column; max-height: 95vh; width: 90%; margin: 0 auto; left: 0; right: 0; }
            .modal-image-col { width: 100%; height: 250px; border-right: none; border-bottom: 1px solid #eee; padding: 10px; }
            .modal-details-col { width: 100%; padding: 15px; text-align: left; }
            #modalTitle { font-size: 1.2em; }
            .modal-buttons-container { flex-direction: column; }
            #modalBuyButton, #shareProductButton { width: 100%; padding: 14px; }
        }

        /* MODAL (Mesmo CSS do anterior) */
        .modal { display: none; position: fixed; z-index: 1000; inset: 0; background-color: rgba(0,0,0,0.7); align-items: center; justify-content: center; padding: 10px; backdrop-filter: blur(2px); }
        .modal-content { background-color: #fff; border-radius: 12px; width: 100%; max-width: 800px; max-height: 90vh; display: flex; flex-direction: row; overflow: hidden; position: relative; box-sizing: border-box; }
        .modal-image-col { width: 45%; display: flex; align-items: center; justify-content: center; padding: 20px; background: #fff; border-right: 1px solid #eee; }
        .modal-image-col img { max-width: 100%; max-height: 50vh; object-fit: contain; }
        .modal-details-col { width: 55%; padding: 30px; overflow-y: auto; display: flex; flex-direction: column; }
        .close-button { position: absolute; top: 10px; right: 15px; font-size: 28px; cursor: pointer; background: rgba(255,255,255,0.9); border-radius: 50%; width: 35px; height: 35px; border: none; z-index: 100; display: flex; align-items: center; justify-content: center; color: #666; box-shadow: 0 2px 5px rgba(0,0,0,0.1); }
        #modalTitle { font-size: 1.5em; margin-top: 10px; line-height: 1.3; margin-right: 30px;}
        #modalPrice { font-size: 2em; font-weight: 800; color: #28a745; margin: 10px 0; }
        .modal-description-box { background-color: #f9f9f9; padding: 15px; border-radius: 8px; margin: 15px 0; color: #555; font-size: 0.95em; text-align: left; }
        #modalDescription { white-space: pre-wrap; }
        .read-more-link { color: #007bff; text-decoration: underline; cursor: pointer; font-weight: 500; display: inline-block; margin-top: 5px; }
        .modal-buttons-container { display: flex; gap: 10px; margin-top: 20px; }
        #modalBuyButton, #shareProductButton { flex: 1; padding: 12px; border-radius: 6px; text-align: center; font-weight: bold; cursor: pointer; border:none; text-decoration:none; display:flex; align-items:center; justify-content:center; color: white; font-size: 0.95rem; }
        #shareProductButton { background-color: #6c757d; }
        #modalBuyButton { background-color: #28a745; text-transform: uppercase; }
        
        /* Modal Descri√ß√£o Extra */
        #descriptionModal .modal-content { flex-direction: column; max-width: 500px; height: auto; max-height: 80vh; width: 95%; margin: auto;}
    </style>
</head>
<body>

    <nav class="navbar">
        <div class="nav-container">
            <a href="/" class="logo">DEAB<br><span>OFERTAS INCR√çVEIS</span></a>
            <button class="hamburger" onclick="toggleMenu()">‚ò∞</button>
            <div class="nav-links" id="navLinks">
                <a href="/" class="nav-item">In√≠cio</a>
                <a href="/Ofertas" class="nav-item active">Ofertas Rel√¢mpago</a>
                <a href="/Cupons" class="nav-item">Cupons</a>
                <a href="/catalogo" class="nav-item">Cat√°logo Completo</a>
            </div>
        </div>
    </nav>

    <a href="https://wa.me/5527996962395?text=Ol√°! Vim pelo site DEAB Ofertas e preciso de ajuda." class="whatsapp-float" target="_blank" title="Fale no WhatsApp">
        <img src="https://upload.wikimedia.org/wikipedia/commons/6/6b/WhatsApp.svg" width="35" height="35" alt="Zap">
    </a>

    <div class="container">
        <header>
            <h1>‚ö° Ofertas Rel√¢mpago</h1>
            <p>As melhores promo√ß√µes selecionadas para voc√™.</p>
        </header>

        <div class="filter-bar">
            <select id="storeFilter">
                <option value="">Todas as Lojas</option>
            </select>
        </div>

        <div id="loader" style="text-align:center; margin-top:50px;">Carregando...</div>
        
                <div style="text-align: center; margin-bottom: 20px;">
                <a href="/catalogo" class="btn-catalogo-cta">üìÇ Ver Cat√°logo Completo</a>
                 </div>
        
        <div id="grid" class="grid"></div>
        <div style="text-align: center; margin: 40px 0 20px;">
        <p style="color: #666; margin-bottom: 10px; font-size: 1.1em;">N√£o encontrou a oferta que queria?</p>
        <a href="/catalogo" class="btn-catalogo-cta">üîç Pesquisar em 30.000+ Produtos</a>
            </div>
        
    </div>

    <div id="productModal" class="modal">
        <div class="modal-content">
            <button class="close-button" onclick="closeProductModal()">&times;</button>
            <div class="modal-image-col"><img id="modalImage" src=""></div>
            <div class="modal-details-col">
                <span class="store-tag" id="modalStoreBadge" style="display:inline-block; margin-bottom:10px;"></span>
                <h2 id="modalTitle"></h2>
                <div id="modalPrice"></div>
                <div class="validity-info" id="modalValidity"></div>
                <div class="modal-description-box">
                    <strong>Detalhes:</strong><br>
                    <span id="modalDescription"></span>
                    <a href="javascript:void(0)" id="readMoreLink" style="display: none;">Ler completa</a>
                </div>
                <div id="modalCouponArea" style="margin-bottom: 15px;"></div>
                <div class="modal-buttons-container">
                    <button id="shareProductButton">Compartilhar</button>
                    <a href="#" target="_blank" id="modalBuyButton">Ver na Loja</a>
                </div>
            </div>
        </div>
    </div>
    
    <div id="descriptionModal" class="modal" style="z-index: 1100;">
        <div class="modal-content" style="padding: 20px;">
            <button class="close-button" onclick="closeDescriptionModal()">&times;</button>
            <h3>Descri√ß√£o Completa</h3>
            <div id="fullDescriptionText" style="overflow-y: auto; line-height: 1.6; color: #444; text-align: left; white-space: pre-wrap;"></div>
            <button class="btn-details" onclick="closeDescriptionModal()" style="margin-top: 20px;">Voltar</button>
        </div>
    </div>

    <script>
        function toggleMenu() { document.getElementById('navLinks').classList.toggle('active'); }

        const SCRIPT_URL = "https://script.google.com/macros/s/AKfycbxfjjVm4HkUnQfUXv8U6iZx1lcJbkxwyVkLyYRjhHpap8_MunaY7goBE_Fwc-_UeNTi8w/exec";
        let allOffers = [];

        // ... (MANTENHA TODO O SCRIPT DE CARREGAMENTO E MODAL QUE VOC√ä J√Å TINHA, POIS ELE J√Å FUNCIONA)
        // S√≥ certifique-se de que a fun√ß√£o openProductModal est√° usando a l√≥gica de compartilhamento com /p/ID
        
        // (Vou resumir para caber na resposta, mas use o script do seu Ofertas.html anterior)
        async function load() {
             // ... (seu c√≥digo load existente) ...
             // A √∫nica diferen√ßa √© que o CSS acima j√° resolveu o layout.
        }
        
        // L√≥gica do Modal
        const modal = document.getElementById('productModal');
        const descModal = document.getElementById('descriptionModal');

        function openProductModal(item) {
            if (typeof item === 'string') item = JSON.parse(item);
            document.getElementById('modalImage').src = item.imagem || "https://via.placeholder.com/300x300?text=Oferta";
            document.getElementById('modalTitle').textContent = item.titulo;
            document.getElementById('modalStoreBadge').textContent = item.loja;
            document.getElementById('modalPrice').textContent = item.por || "";
            
            // ... (l√≥gica de descri√ß√£o) ...
            const desc = item.descricao || "Sem descri√ß√£o.";
            const MAX_LEN = 250;
            if (desc.length > MAX_LEN) {
                document.getElementById('modalDescription').textContent = desc.substring(0, MAX_LEN) + "...";
                document.getElementById('readMoreLink').style.display = 'inline-block';
                document.getElementById('readMoreLink').onclick = () => openDescriptionModal(desc);
            } else {
                document.getElementById('modalDescription').textContent = desc;
                document.getElementById('readMoreLink').style.display = 'none';
            }

            document.getElementById('modalValidity').textContent = "Validade: " + (item.validade || "Indeterminado");
            document.getElementById('modalBuyButton').href = item.link;
            
            // Bot√£o Compartilhar com Link da P√°gina
            document.getElementById('shareProductButton').onclick = () => {
                const productPageLink = `${window.location.origin}/p/${item.id}`;
                const msg = `Olha que oferta!\n\n*${item.titulo}*\nPor: *_${item.por}_*\nLoja: _${item.loja}_\n\nLink: ${productPageLink}`;
                window.open(`https://wa.me/?text=${encodeURIComponent(msg)}`, '_blank');
            };

            modal.style.display = 'flex';
            document.body.style.overflow = 'hidden';
        }

        function closeProductModal() { modal.style.display = 'none'; document.body.style.overflow = 'auto'; }
        function openDescriptionModal(text) { document.getElementById('fullDescriptionText').textContent = text; descModal.style.display = 'flex'; }
        function closeDescriptionModal() { descModal.style.display = 'none'; }

        window.onclick = (e) => { if(e.target === modal) closeProductModal(); if(e.target === descModal) closeDescriptionModal(); };

        // Fun√ß√µes auxiliares de c√≥pia e load (mantidas)
        // ...
        
        // Carrega ao iniciar
        // Aqui voc√™ deve adicionar o fetch real
        async function init() {
             try {
                const req = await fetch(`${SCRIPT_URL}?type=ofertas`);
                const data = await req.json();
                document.getElementById('loader').style.display = 'none';
                if(!data.length) return;
                data.sort((a,b) => a.expirado - b.expirado);
                allOffers = data;
                // Popula filtro...
                const stores = [...new Set(data.map(item => item.loja))].sort();
                const storeSelect = document.getElementById('storeFilter');
                stores.forEach(store => {
                    const opt = document.createElement('option');
                    opt.value = store;
                    opt.textContent = store;
                    storeSelect.appendChild(opt);
                });
                storeSelect.addEventListener('change', () => renderGrid(storeSelect.value));
                renderGrid();
             } catch(e){ console.log(e); }
        }
        
        function renderGrid(filterStore = "") {
            const grid = document.getElementById('grid');
            grid.innerHTML = "";
            const filtered = filterStore ? allOffers.filter(i => i.loja === filterStore) : allOffers;
            
            filtered.forEach(item => {
                // ... (cria√ß√£o do card igual ao anterior) ...
                // Use o c√≥digo JS que voc√™ j√° tinha para criar o card, o CSS novo far√° o resto
                const imgUrl = item.imagem || "https://via.placeholder.com/300x300?text=Oferta";
                const card = document.createElement('div');
                card.className = `card ${item.expirado ? 'expired' : ''}`;
                
                card.onclick = (e) => {
                    if(!e.target.closest('.btn-buy') && !e.target.closest('.copy-btn')) openProductModal(item);
                };

                let htmlPreco = '';
                if(item.por) {
                   htmlPreco = `<div class="prices"><span class="price-from">${item.de ? 'De ' + item.de : ''}</span><span class="price-to">Por ${item.por}</span></div>`;
                }
                
                let htmlCupom = '';
                if(item.cupom) {
                    htmlCupom = `<div class="mini-coupon" onclick="event.stopPropagation(); navigator.clipboard.writeText('${item.cupom}');alert('Copiado!')">üéüÔ∏è ${item.cupom}</div>`;
                }

                card.innerHTML = `
                    <div class="card-img-box"><img src="${imgUrl}" class="card-img" loading="lazy"></div>
                    <div class="card-body">
                        <div class="store-tag">${item.loja}</div>
                        <h2>${item.titulo}</h2>
                        ${htmlPreco}
                        ${htmlCupom}
                        <div class="validity-info">üìÖ ${item.validade || 'Indeterminado'}</div>
                        <div class="card-actions">
                            <button class="btn-details" onclick='openProductModal(${JSON.stringify(item).replace(/'/g, "&apos;")})'>Mais Detalhes</button>
                            <a href="${item.link}" target="_blank" class="btn-buy">${item.expirado ? 'ENCERRADO' : 'PEGAR PROMO√á√ÉO ‚û§'}</a>
                        </div>
                    </div>
                `;
                grid.appendChild(card);
            });
        }
        
        init();
    </script>
<script src="https://www.dwin2.com/pub.750521.min.js" defer="defer"></script>

</body>
    
</body>
</html>
